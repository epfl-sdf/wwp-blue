- hosts: localhost
  roles:
         # Loads library/openshift.py to make it available to other plays;
         # does nothing else by itself
         - { role: epfl_idevelop.ansible_module_openshift }

  tasks:
    - name: include vars
      include_vars: 
        file: inventory/inv.yml
        name: inv      
    - name: deploy_wp
      include_role:
        name: "{{item.type}}"
      vars:
        app_name: "{{item.name}}"
        db_name: "{{item.db_name}}"
        db_ip: "{{item.db_ip}}"
        db_root_password: "{{item.db_root_password}}"
        nfs_ip: "{{item.nfs_ip}}"
      loop: "{{inv.my_list}}"